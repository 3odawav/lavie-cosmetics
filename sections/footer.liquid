{% comment %}
  LA VIE COSMETICS FOOTER
  Main footer section with company info, contact, and links
{% endcomment %}

<footer class="site-footer bg-black text-gray-300 pt-16 pb-8">
  <div class="container mx-auto px-4 md:px-8">
    
    <!-- Newsletter Section (if enabled) -->
    {% if section.settings.newsletter_enable %}
    <div class="newsletter-section mb-16 text-center max-w-2xl mx-auto">
      <h3 class="text-2xl font-serif text-white dark:text-brand-gold mb-4">
        {{ section.settings.newsletter_heading }}
      </h3>
      {% if section.settings.newsletter_text != blank %}
        <div class="text-gray-400 mb-6">
          {{ section.settings.newsletter_text }}
        </div>
      {% endif %}
      
      {% form 'customer', class: 'newsletter-form' %}
        {% if form.posted_successfully? %}
          <p class="text-green-500 mb-4">Thanks for subscribing!</p>
        {% endif %}
        
        <div class="flex gap-4 max-w-md mx-auto">
          <input 
            type="email" 
            name="contact[email]" 
            placeholder="Your email address" 
            required 
            class="flex-1 px-4 py-3 bg-zinc-800 border border-zinc-700 text-white rounded focus:border-brand-pink dark:focus:border-brand-gold"
          />
          <button 
            type="submit" 
            class="px-6 py-3 bg-brand-pink text-white rounded hover:bg-brand-pink/90 dark:bg-brand-gold dark:text-black dark:hover:bg-brand-gold/90 font-semibold">
            Subscribe
          </button>
        </div>
      {% endform %}
    </div>
    {% endif %}

    <!-- Main Footer Content Grid -->
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-12 mb-12">
      {% for block in section.blocks %}
        <div class="footer-block" {{ block.shopify_attributes }}>
          
          {% case block.type %}
            {% when 'text' %}
              <h4 class="font-serif text-xl font-bold text-white dark:text-brand-gold mb-4">
                {{ block.settings.heading }}
              </h4>
              <div class="text-sm text-gray-400 dark:text-gray-300 leading-relaxed">
                {{ block.settings.subtext }}
              </div>

            {% when 'link_list' %}
              <h4 class="font-serif text-xl font-bold text-white dark:text-brand-gold mb-4">
                {{ block.settings.heading }}
              </h4>
              {% if linklists[block.settings.menu].links.size > 0 %}
                <ul class="space-y-3 text-sm text-gray-400 dark:text-gray-300">
                  {% for link in linklists[block.settings.menu].links %}
                    <li>
                      <a href="{{ link.url }}" class="hover:text-white transition-colors">
                        {{ link.title }}
                      </a>
                    </li>
                  {% endfor %}
                </ul>
              {% endif %}

          {% endcase %}
        </div>
      {% endfor %}
    </div>

    <!-- Social Media (if enabled) -->
    {% if section.settings.show_social %}
    <div class="social-media flex justify-center gap-4 mb-12">
      {% if settings.social_facebook_link != blank %}
        <a href="{{ settings.social_facebook_link }}" target="_blank" aria-label="Facebook" class="text-gray-400 hover:text-white transition-colors">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path>
          </svg>
        </a>
      {% endif %}
      
      {% if settings.social_instagram_link != blank %}
        <a href="{{ settings.social_instagram_link }}" target="_blank" aria-label="Instagram" class="text-gray-400 hover:text-white transition-colors">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <rect width="20" height="20" x="2" y="2" rx="5" ry="5"></rect>
            <path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path>
            <line x1="17.5" x2="17.51" y1="6.5" y2="6.5"></line>
          </svg>
        </a>
      {% endif %}
      
      {% if settings.social_twitter_link != blank %}
        <a href="{{ settings.social_twitter_link }}" target="_blank" aria-label="Twitter" class="text-gray-400 hover:text-white transition-colors">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z"></path>
          </svg>
        </a>
      {% endif %}
    </div>
    {% endif %}

    <!-- Footer Bottom -->
    <div class="border-t border-zinc-800 pt-8">
      <div class="text-center text-xs text-gray-500">
        {{ section.settings.copyrighttext }}
      </div>
      
      {% if section.settings.show_policy %}
      <div class="text-center text-xs text-gray-500 mt-4 space-x-4">
        {% if shop.privacy_policy %}
          <a href="{{ shop.privacy_policy.url }}" class="hover:text-white">Privacy Policy</a>
        {% endif %}
        {% if shop.terms_of_service %}
          <span>|</span>
          <a href="{{ shop.terms_of_service.url }}" class="hover:text-white">Terms of Service</a>
        {% endif %}
        {% if shop.refund_policy %}
          <span>|</span>
          <a href="{{ shop.refund_policy.url }}" class="hover:text-white">Refund Policy</a>
        {% endif %}
      </div>
      {% endif %}
    </div>

  </div>
</footer>

{% schema %}
{
  "name": "Footer",
  "settings": [
    {
      "type": "header",
      "content": "Newsletter"
    },
    {
      "type": "checkbox",
      "id": "newsletter_enable",
      "label": "Enable Newsletter",
      "default": true
    },
    {
      "type": "text",
      "id": "newsletter_heading",
      "label": "Newsletter Heading",
      "default": "Subscribe to our emails"
    },
    {
      "type": "richtext",
      "id": "newsletter_text",
      "label": "Newsletter Text"
    },
    {
      "type": "header",
      "content": "Social Media"
    },
    {
      "type": "checkbox",
      "id": "show_social",
      "label": "Show Social Icons",
      "default": true
    },
    {
      "type": "header",
      "content": "Footer Bottom"
    },
    {
      "type": "checkbox",
      "id": "show_policy",
      "label": "Show Policy Links",
      "default": true
    },
    {
      "type": "richtext",
      "id": "copyrighttext",
      "label": "Copyright Text"
    },
    {
      "type": "header",
      "content": "Spacing"
    },
    {
      "type": "range",
      "id": "padding_top",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "Padding Top",
      "default": 64
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "Padding Bottom",
      "default": 32
    }
  ],
  "blocks": [
    {
      "type": "text",
      "name": "Text Block",
      "settings": [
        {
          "type": "text",
          "id": "heading",
          "label": "Heading"
        },
        {
          "type": "richtext",
          "id": "subtext",
          "label": "Content"
        }
      ]
    },
    {
      "type": "link_list",
      "name": "Menu",
      "settings": [
        {
          "type": "text",
          "id": "heading",
          "label": "Heading"
        },
        {
          "type": "link_list",
          "id": "menu",
          "label": "Menu"
        }
      ]
    }
  ]
}
{% endschema %}
