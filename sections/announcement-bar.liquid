{% comment %}
  Announcement Bar - Top banner for promotions
{% endcomment %}

{% if section.settings.show_announcement %}
<div 
  class="announcement-bar"
  style="
    background: {% if section.settings.color_scheme == 'dark' %}{{ section.settings.bg_color_dark }}{% else %}{{ section.settings.bg_color }}{% endif %};
    color: {{ section.settings.text_color }};
    text-align: center;
    padding: {{ section.settings.padding_vertical }}px 16px;
    overflow: hidden;
  ">
  
  <div class="marquee-container">
    <div class="marquee-content" style="display: inline-block; animation: marquee {{ section.settings.scroll_speed }}s linear infinite;">
      {% for i in (1..3) %}
        <span style="display: inline-block; padding: 0 2rem; white-space: nowrap;">
          {{ section.settings.text }}
        </span>
      {% endfor %}
    </div>
  </div>
</div>

<style>
@keyframes marquee {
  0% { transform: translateX(0%); }
  100% { transform: translateX(-33.33%); }
}

.marquee-container {
  white-space: nowrap;
  overflow: hidden;
}

.announcement-bar a {
  color: inherit;
  text-decoration: underline;
}
</style>
{% endif %}

{% schema %}
{
  "name": "Announcement Bar",
  "settings": [
    {
      "type": "checkbox",
      "id": "show_announcement",
      "label": "Show Announcement",
      "default": true
    },
    {
      "type": "text",
      "id": "text",
      "label": "Announcement Text",
      "default": "ðŸŽ‰ Free Shipping on Orders Over 500 EGP | Shop Now"
    },
    {
      "type": "color",
      "id": "bg_color",
      "label": "Background Color",
      "default": "#E91E63"
    },
    {
      "type": "color",
      "id": "bg_color_dark",
      "label": "Background (Dark Mode)",
      "default": "#DAA520"
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Text Color",
      "default": "#FFFFFF"
    },
    {
      "type": "range",
      "id": "padding_vertical",
      "min": 8,
      "max": 24,
      "step": 2,
      "unit": "px",
      "label": "Vertical Padding",
      "default": 12
    },
    {
      "type": "range",
      "id": "scroll_speed",
      "min": 10,
      "max": 40,
      "step": 5,
      "unit": "s",
      "label": "Scroll Speed",
      "default": 20
    }
  ],
  "presets": [
    {
      "name": "Announcement Bar"
    }
  ]
}
{% endschema %}

